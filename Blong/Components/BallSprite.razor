@using System.ComponentModel
@inject GameManager gameManager
<style>

    .ball {
        top: @(Sprite.Box.Top)px;
        left: @(Sprite.Box.Left)px;
        height: @(Sprite.Box.Width)px;
        width: @(Sprite.Box.Width)px;
        background-color: whitesmoke;
        position: absolute;
    }

 </style>

<div class="ball" />

@code {

    [Parameter]
    public Sprite Sprite { get ; set ; }


    // get ot know your component lifecycle : 
    // https://docs.microsoft.com/en-us/aspnet/core/blazor/lifecycle?view=aspnetcore-3.1
    //

    protected override void OnParametersSet()
    {
        
        // init the timer update event
        Sprite.Update = (timeState) =>
        {
            var sprite = (Sprite) timeState;
            sprite.Box.Left -= 5;
           
            InvokeAsync(() => // threading dispatch wrapper
            {
                StateHasChanged();
            });
        };

    }
}
